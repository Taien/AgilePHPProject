<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.4" DspName="Microsoft.Data.Tools.Schema.Sql.SqlAzureV12DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="130" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="WorkWithMe.DB.dll" />
			<Metadata Name="FileName" Value="C:\USERS\TYLER\SOURCE\WORKSPACES\WORKSPACE\AGILEPHPPROJECT\WORKWITHME.DB\OBJ\DEBUG\WORKWITHME.DB.DLL" />
			<Metadata Name="AssemblyName" Value="WorkWithMe.DB" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="C:\Users\Tyler\Source\Workspaces\Workspace\AgilePHPProject\WorkWithMe.DB\obj\Debug\WorkWithMe.DB.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[null]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[tblPost].[TargetGroupId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA[null]]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlDefaultConstraint">
			<Property Name="DefaultExpressionScript">
				<Value><![CDATA['email']]></Value>
			</Property>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForColumn">
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblUserImg].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblUserImg]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblUserContact].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblState].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblState]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblZip].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblZip]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblCity].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblCity]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblInviteStatus].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblInviteStatus]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblGroup].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblGroup]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblGroupContact].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblGroupContact]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblPost].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblGroupType].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblGroupType]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[tblUser].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spCreateGroup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		IF EXISTS (SELECT * FROM [dbo].[tblGroup] WHERE Name = @Name)
		BEGIN
			SET @Response='Group name is taken.'
			RETURN 0
		END

		BEGIN TRY
			INSERT INTO [dbo].[tblGroup] (Id, Name, Description, GroupType, OwnerUserId, OwnerGroupId, GroupImgId, CanPostDefault, CanInviteDefault, CanDeleteDefault)
			values (NEWID(), @Name, @Description, @GroupType, @OwnerUserId, @OwnerGroupId, null, @CanPostDefault, @CanInviteDefault, @CanDeleteDefault)

			SET @Response='Successfully created group!'
			RETURN 1
		END TRY
		BEGIN CATCH
			SET @Response=ERROR_MESSAGE() 
			RETURN 0
		END CATCH
	END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@Response]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[Name]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[GroupType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[OwnerGroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[GroupImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[CanPostDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[CanInviteDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblGroup].[CanDeleteDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@Description]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@GroupType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@OwnerGroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@CanPostDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@CanInviteDefault]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateGroup].[@CanDeleteDefault]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@Name]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@Description]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@GroupType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@OwnerUserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@OwnerGroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@CanPostDefault]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@CanInviteDefault]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@CanDeleteDefault]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateGroup].[@Response]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="907" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spCreateGroup]&#xD;&#xA;&#x9;@Name nvarchar(50),&#xD;&#xA;&#x9;@Description nvarchar(100),&#xD;&#xA;&#x9;@GroupType int,&#xD;&#xA;&#x9;@OwnerUserId uniqueidentifier,&#xD;&#xA;&#x9;@OwnerGroupId uniqueidentifier null,&#xD;&#xA;&#x9;@CanPostDefault bit,&#xD;&#xA;&#x9;@CanInviteDefault bit,&#xD;&#xA;&#x9;@CanDeleteDefault bit,&#xD;&#xA;&#x9;@Response nvarchar(100) output&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spCreatePost]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN
		INSERT INTO [dbo].[tblPost] (Id, OwnerUserId, TargetGroupId, ReplyPostId, Title, Content, IsSticky, 
									 IsDeleted, TimeStamp, EventTimeStamp) values
		(NewId(),@PosterId,@TargetGroupId,@ReplyPostId,@Title,@Content,@IsSticky,0,GETDATE(),@EventTimeStamp);
	END
RETURN @@ROWCOUNT;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[TargetGroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[Title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[Content]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[IsSticky]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[IsDeleted]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[TimeStamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[EventTimeStamp]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@PosterId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@TargetGroupId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@Title]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@Content]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@IsSticky]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreatePost].[@EventTimeStamp]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@PosterId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@TargetGroupId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@ReplyPostId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@Title]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@Content]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@IsSticky]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreatePost].[@EventTimeStamp]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="547" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spCreatePost]&#xD;&#xA;&#x9;@PosterId uniqueidentifier,&#xD;&#xA;&#x9;@TargetGroupId uniqueidentifier null,&#xD;&#xA;&#x9;@ReplyPostId uniqueidentifier null,&#xD;&#xA;&#x9;@Title nvarchar(50),&#xD;&#xA;&#x9;@Content nvarchar(MAX),&#xD;&#xA;&#x9;@IsSticky bit,&#xD;&#xA;&#x9;@EventTimeStamp datetime null&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spCreateUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	IF EXISTS (SELECT * FROM [dbo].[tblUser] WHERE Username = @Username)
	BEGIN
		SET @Response='Username is taken.'
	    RETURN 0
	END
	IF EXISTS (SELECT * from [dbo].[tblUser] WHERE EmailAddress = @EmailAddress)
	BEGIN
	    SET @Response='Email address already exists.  Only one user per email please.'
	    RETURN 0
	END

    DECLARE @salt UNIQUEIDENTIFIER=NEWID()


    BEGIN TRY
	
        INSERT INTO [dbo].[tblUser] (Id, Username, PasswordHash, PasswordSalt, FirstName, MiddleInitial, LastName, EmailAddress, Zip, Address, IsAddressPrivate, UserImgId)
        VALUES(NewId(), @Username, HASHBYTES('SHA2_512', @Password+CAST(@salt AS NVARCHAR(36))), @salt, @FirstName, @MiddleInitial, @LastName, @EmailAddress, @Zip, @Address, @IsAddressPrivate, null);
		
		IF NOT EXISTS(SELECT TOP 1 s.Id FROM tblState s WHERE s.StateName = @State)
		    INSERT INTO [dbo].[tblState] (Id, StateName) VALUES (NewId(), @State)
	
		IF NOT EXISTS(SELECT TOP 1 c.Id FROM tblCity c WHERE c.Cityname = @City)
		    INSERT INTO [dbo].[tblCity] (Id, CityName) VALUES (NewId(), @City)
		
		DECLARE @cityId UNIQUEIDENTIFIER = (SELECT c.Id FROM tblCity c WHERE c.CityName = @City);
		DECLARE @stateId UNIQUEIDENTIFIER = (SELECT s.Id FROM tblState s WHERE s.StateName = @State);

		IF NOT EXISTS (SELECT TOP 1 z.Id FROM tblZip z WHERE z.Id = @Zip)
		    INSERT INTO [dbo].[tblZip] (Id, CityId, StateId) VALUES (@Zip, @cityId, @stateId)
		
        SET @Response='Successfully added user!'
		RETURN 1
    END TRY
    BEGIN CATCH
        SET @Response=ERROR_MESSAGE() 
		RETURN 0
    END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@City]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@State]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@Response]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[UserImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spCreateUser].[@IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[StateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@Username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@FirstName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@MiddleInitial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@LastName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@Zip]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@Address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@City]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@IsAddressPrivate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@EmailAddress]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spCreateUser].[@Response]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="52" />
				<Property Name="Length" Value="2032" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--Creates user and adds random salt to password.&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spCreateUser]&#xD;&#xA;&#x9;@Username nvarchar(40),&#xD;&#xA;&#x9;@Password nvarchar(24),&#xD;&#xA;&#x9;@FirstName nvarchar(50),&#xD;&#xA;&#x9;@MiddleInitial nvarchar(2),&#xD;&#xA;&#x9;@LastName nvarchar(50),&#xD;&#xA;&#x9;@Zip int,&#xD;&#xA;&#x9;@Address nvarchar(50),&#xD;&#xA;&#x9;@City nvarchar(50),&#xD;&#xA;&#x9;@State nvarchar(2),&#xD;&#xA;&#x9;@IsAddressPrivate bit,&#xD;&#xA;&#x9;@EmailAddress nvarchar(255),&#xD;&#xA;&#x9;@Response nvarchar(100) output&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spDeleteUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
     SET NOCOUNT ON;
	 IF EXISTS (SELECT * from [dbo].[tblUser] WHERE Username=@Username AND PasswordHash=HASHBYTES('SHA2_512', @Password+CAST(PasswordSalt AS NVARCHAR(36))))
	 BEGIN
		  DECLARE @UserId uniqueidentifier;
		  DECLARE @UserImgId int;

		  SET @UserId = (SELECT Id from [dbo].[tblUser] WHERE Username=@Username AND PasswordHash=HASHBYTES('SHA2_512', @Password+CAST(PasswordSalt AS NVARCHAR(36))));
		  SET @UserImgId = (SELECT UserImgId from [dbo].[tblUser] WHERE Id = @UserId);

		  DELETE FROM [dbo].[tblUser] WHERE Id=@UserId;

		  DELETE FROM [dbo].[tblPost] WHERE ReplyPostId IN (SELECT Id FROM [dbo].[tblPost] WHERE OwnerUserId = @UserId);

		  DELETE FROM [dbo].[tblPost] WHERE OwnerUserId = @UserId;

		  DELETE FROM [dbo].[tblUserContact] WHERE OwnerUserId = @UserId OR TargetUserId = @UserId;

		  DELETE FROM [dbo].[tblGroupUser] WHERE UserId = @UserId;

		  DELETE FROM [dbo].[tblGroupInvite] WHERE OwnerUserId = @UserId OR TargetUserId = @UserId;
		  
		  IF (@UserImgId IS NOT NULL) DELETE FROM [dbo].[tblUserImg] where Id = @UserImgId;

		  RETURN 1;
	 END
	 RETURN 0;
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spDeleteUser].[@Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spDeleteUser].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[UserImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[TargetUserId]" />
				</Entry>
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry />
				<Entry>
					<References Name="[dbo].[tblUserImg]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spDeleteUser].[@Username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spDeleteUser].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1228" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spDeleteUser]&#xD;&#xA;&#x9;@Username nvarchar(50),&#xD;&#xA;&#x9;@Password nvarchar(24)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spDoLogin]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
     SET NOCOUNT ON
     SELECT Id FROM [dbo].[tblUser] WHERE Username=@Username AND PasswordHash=HASHBYTES('SHA2_512', @Password+CAST(PasswordSalt AS NVARCHAR(36)))
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spDoLogin].[@Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spDoLogin].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordSalt]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spDoLogin].[@Username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spDoLogin].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="83" />
				<Property Name="Length" Value="352" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--returns the GUID for the user if the login succeed, otherwise returns nothing&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spDoLogin]&#xD;&#xA;&#x9;@Username nvarchar(50),&#xD;&#xA;&#x9;@Password nvarchar(24)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spGetContacts]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select *, (FirstName + CASE WHEN MiddleInitial=null THEN ' ' ELSE ' ' + MiddleInitial + '. ' END + LastName) AS 'OwnerFullName'
	from tblUser
	where Id in
	(select TargetUserId from [dbo].[tblUserContact] where OwnerUserId = @UserId and InviteStatusId = 2 --invite status of 1 means declined, which allows them to request again
	 union
	 select OwnerUserId from [dbo].[tblUserContact] where TargetUserId = @UserId and InviteStatusId = 2)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[TargetUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetContacts].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[InviteStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetContacts].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="514" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spGetContacts]&#xD;&#xA;&#x9;@UserId uniqueidentifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spGetImageData]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ImageContent from [dbo].[tblUserImg] where Id = @UserImgId;]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblUserImg]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[ImageContent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetImageData].[@UserImgId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetImageData].[@UserImgId]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="133" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spGetImageData]&#xD;&#xA;&#x9;@UserImgId int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spGetOffsetPostsForUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId = @UserId and ReplyPostId is null
UNION
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId in (
		SELECT TargetUserId 
		from [dbo].[tblUserContact] where OwnerUserId = @UserId and InviteStatusId = 2 -- 2 = accepted 
	) and ReplyPostId is null
UNION
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId in (
		SELECT OwnerUserId 
		from [dbo].[tblUserContact] where TargetUserId = @UserId and InviteStatusId = 2 -- 2 = accepted 
	) and ReplyPostId is null
ORDER BY p.TimeStamp desc
OFFSET @Offset ROWS /*Skip first @Offset rows*/
FETCH NEXT 10 ROWS ONLY]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetOffsetPostsForUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[TargetUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[InviteStatusId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetOffsetPostsForUser].[@Offset]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[TimeStamp]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetOffsetPostsForUser].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetOffsetPostsForUser].[@Offset]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1284" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spGetOffsetPostsForUser]&#xD;&#xA;&#x9;@UserId uniqueidentifier,&#xD;&#xA;&#x9;@Offset int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spGetPostsForUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId = @UserId and ReplyPostId is null
UNION
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId in (
		SELECT TargetUserId 
		from [dbo].[tblUserContact] where OwnerUserId = @UserId and InviteStatusId = 2 -- 2 = accepted 
	) and ReplyPostId is null
UNION
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where OwnerUserId in (
		SELECT OwnerUserId 
		from [dbo].[tblUserContact] where TargetUserId = @UserId and InviteStatusId = 2 -- 2 = accepted 
	) and ReplyPostId is null
ORDER BY TimeStamp desc
OFFSET 0 ROWS
FETCH NEXT 10 ROWS ONLY]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetPostsForUser].[@UserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[TargetUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[InviteStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetPostsForUser].[@UserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1227" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spGetPostsForUser]&#xD;&#xA;&#x9;@UserId uniqueidentifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spGetRepliesForPost]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT p.*, u.FirstName + 
	CASE WHEN u.MiddleInitial=null THEN ' ' 
	     ELSE ' ' + u.MiddleInitial + '. ' END + u.LastName AS 'OwnerFullName'
	from [dbo].[tblPost] p
	join [dbo].[tblUser] u on p.OwnerUserId = u.Id
	where p.ReplyPostId = @PostId
	order by p.TimeStamp asc]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblPost]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[ReplyPostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spGetRepliesForPost].[@PostId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblPost].[TimeStamp]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spGetRepliesForPost].[@PostId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="357" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spGetRepliesForPost]&#xD;&#xA;&#x9;@PostId uniqueidentifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spSearchUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select Id, Username, FirstName, MiddleInitial, LastName, EmailAddress
	from tblUser
	where (Username like '%' + @SearchString + '%' 
	or EmailAddress like '%' + @SearchString + '%'
	or FirstName + CASE WHEN MiddleInitial=null THEN ' ' 
	     ELSE ' ' + MiddleInitial + '. ' END + LastName 
		  like '%' + @SearchString + '%')
	and Id != @OriginUserId
	and Id not in --this checks if this person A) is already a contact, B) is already invited, or C) blocked the user requesting contact 
		(select TargetUserId from [dbo].[tblUserContact] where OwnerUserId = @OriginUserId and InviteStatusId != 1 --invite status of 1 means declined, which allows them to request again
		 union
		 select OwnerUserId from [dbo].[tblUserContact] where TargetUserId = @OriginUserId and InviteStatusId != 1)]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spSearchUser].[@SearchString]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spSearchUser].[@OriginUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[TargetUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[OwnerUserId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserContact].[InviteStatusId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spSearchUser].[@SearchString]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spSearchUser].[@OriginUserId]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="904" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[spSearchUser]&#xD;&#xA;&#x9;@SearchString nvarchar(255),&#xD;&#xA;&#x9;@OriginUserId uniqueidentifier&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spUpdateUser]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	IF EXISTS (SELECT * FROM [dbo].[tblUser] WHERE Username = @Username AND Id != @Id)
	BEGIN
		SET @Response='Username is taken.'
	    RETURN 0
	END
	IF EXISTS (SELECT * from [dbo].[tblUser] WHERE EmailAddress = @EmailAddress AND Id != @Id)
	BEGIN
	    SET @Response='Email address already exists.  Only one user per email please.'
	    RETURN 0
	END

    DECLARE @salt UNIQUEIDENTIFIER=NEWID()

    BEGIN TRY
	
		UPDATE [dbo].[tblUser] 
		SET Username = @Username,
			PasswordHash = HASHBYTES('SHA2_512', @Password+CAST(@salt AS NVARCHAR(36))),
			PasswordSalt = @salt,
			FirstName = @FirstName,
			MiddleInitial = @MiddleInitial,
			LastName = @LastName,
			EmailAddress = @EmailAddress,
			Zip = @Zip,
			Address = @Address,
			IsAddressPrivate = @IsAddressPrivate
		WHERE Id = @Id;

		IF NOT EXISTS(SELECT TOP 1 s.Id FROM tblState s WHERE s.StateName = @State)
		    INSERT INTO [dbo].[tblState] (Id, StateName) VALUES (NewId(), @State)
	
		IF NOT EXISTS(SELECT TOP 1 c.Id FROM tblCity c WHERE c.Cityname = @City)
		    INSERT INTO [dbo].[tblCity] (Id, CityName) VALUES (NewId(), @City)
		
		DECLARE @cityId UNIQUEIDENTIFIER = (SELECT c.Id FROM tblCity c WHERE c.CityName = @City);
		DECLARE @stateId UNIQUEIDENTIFIER = (SELECT s.Id FROM tblState s WHERE s.StateName = @State);

		IF NOT EXISTS (SELECT TOP 1 z.Id FROM tblZip z WHERE z.Id = @Zip)
		    INSERT INTO [dbo].[tblZip] (Id, CityId, StateId) VALUES (@Zip, @cityId, @stateId)
		
        SET @Response='Successfully updated user!'
		RETURN 1
    END TRY
    BEGIN CATCH
        SET @Response=ERROR_MESSAGE() 
		RETURN 0
    END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@City]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@State]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Response]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUser].[@IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[StateId]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@FirstName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@MiddleInitial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@LastName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Zip]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@City]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@IsAddressPrivate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@EmailAddress]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUser].[@Response]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="52" />
				<Property Name="Length" Value="2095" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--Creates user and adds random salt to password.&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spUpdateUser]&#xD;&#xA;&#x9;@Id uniqueidentifier,&#xD;&#xA;&#x9;@Username nvarchar(40),&#xD;&#xA;&#x9;@Password nvarchar(24),&#xD;&#xA;&#x9;@FirstName nvarchar(50),&#xD;&#xA;&#x9;@MiddleInitial nvarchar(2),&#xD;&#xA;&#x9;@LastName nvarchar(50),&#xD;&#xA;&#x9;@Zip int,&#xD;&#xA;&#x9;@Address nvarchar(50),&#xD;&#xA;&#x9;@City nvarchar(50),&#xD;&#xA;&#x9;@State nvarchar(2),&#xD;&#xA;&#x9;@IsAddressPrivate bit,&#xD;&#xA;&#x9;@EmailAddress nvarchar(255),&#xD;&#xA;&#x9;@Response nvarchar(100) output&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[spUpdateUserWithImage]">
			<Property Name="BodyScript">
				<Value><![CDATA[
BEGIN
	SET NOCOUNT ON

	IF EXISTS (SELECT * FROM [dbo].[tblUser] WHERE Username = @Username AND Id != @Id)
	BEGIN
		SET @Response='Username is taken.'
	    RETURN 0
	END
	IF EXISTS (SELECT * from [dbo].[tblUser] WHERE EmailAddress = @EmailAddress AND Id != @Id)
	BEGIN
	    SET @Response='Email address already exists.  Only one user per email please.'
	    RETURN 0
	END

    DECLARE @salt UNIQUEIDENTIFIER=NEWID()

    BEGIN TRY
		UPDATE [dbo].[tblUser] 
		SET Username = @Username,
			PasswordHash = HASHBYTES('SHA2_512', @Password+CAST(@salt AS NVARCHAR(36))),
			PasswordSalt = @salt,
			FirstName = @FirstName,
			MiddleInitial = @MiddleInitial,
			LastName = @LastName,
			EmailAddress = @EmailAddress,
			Zip = @Zip,
			Address = @Address,
			IsAddressPrivate = @IsAddressPrivate
		WHERE Id = @Id;

		IF NOT EXISTS(SELECT TOP 1 s.Id FROM tblState s WHERE s.StateName = @State)
		    INSERT INTO [dbo].[tblState] (Id, StateName) VALUES (NewId(), @State)
	
		IF NOT EXISTS(SELECT TOP 1 c.Id FROM tblCity c WHERE c.Cityname = @City)
		    INSERT INTO [dbo].[tblCity] (Id, CityName) VALUES (NewId(), @City)
		
		DECLARE @cityId UNIQUEIDENTIFIER = (SELECT c.Id FROM tblCity c WHERE c.CityName = @City);
		DECLARE @stateId UNIQUEIDENTIFIER = (SELECT s.Id FROM tblState s WHERE s.StateName = @State);

		IF NOT EXISTS (SELECT TOP 1 z.Id FROM tblZip z WHERE z.Id = @Zip)
		    INSERT INTO [dbo].[tblZip] (Id, CityId, StateId) VALUES (@Zip, @cityId, @stateId)
		
		--Handle Image Changes
		IF (SELECT UserImgId from tblUser where Id = @Id) IS NULL
			BEGIN
				INSERT INTO [dbo].[tblUserImg] (ImageName, ImageSize, ImageContent)
				VALUES (@ImageName, @ImageSize, @ImageContent);
				
				UPDATE [dbo].[tblUser] SET UserImgId = SCOPE_IDENTITY() WHERE Id = @Id
			END
		ELSE
			BEGIN
				--first drop old image from database, then update data
				DELETE FROM [dbo].[tblUserImg] WHERE Id = (SELECT UserImgId from tblUser where Id = @Id);

				INSERT INTO [dbo].[tblUserImg] (ImageName, ImageSize, ImageContent)
				VALUES (@ImageName, @ImageSize, @ImageContent);
				
				UPDATE [dbo].[tblUser] SET UserImgId = SCOPE_IDENTITY() WHERE Id = @Id
			END
        SET @Response='Successfully updated user!'
		RETURN 1
    END TRY
    BEGIN CATCH
        SET @Response=ERROR_MESSAGE() 
		RETURN 0
    END CATCH
END]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@City]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@State]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Response]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Username]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Password]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[PasswordSalt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@MiddleInitial]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[EmailAddress]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Zip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@Address]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@IsAddressPrivate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblState].[StateName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblCity].[CityName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[CityId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblZip].[StateId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[UserImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[ImageName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[ImageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[ImageContent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@ImageName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@ImageSize]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[spUpdateUserWithImage].[@ImageContent]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[UserImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUserImg].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[UserImgId]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[tblUser].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Username]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="40" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="24" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@FirstName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@MiddleInitial]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@LastName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Zip]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Address]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@City]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@State]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@IsAddressPrivate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@EmailAddress]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@ImageName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@ImageSize]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="6" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@ImageContent]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[spUpdateUserWithImage].[@Response]">
						<Property Name="IsOutput" Value="True" />
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="52" />
				<Property Name="Length" Value="2891" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="--Creates user and adds random salt to password.&#xD;&#xA;&#xD;&#xA;CREATE PROCEDURE [dbo].[spUpdateUserWithImage]&#xD;&#xA;&#x9;@Id uniqueidentifier,&#xD;&#xA;&#x9;@Username nvarchar(40),&#xD;&#xA;&#x9;@Password nvarchar(24),&#xD;&#xA;&#x9;@FirstName nvarchar(50),&#xD;&#xA;&#x9;@MiddleInitial nvarchar(2),&#xD;&#xA;&#x9;@LastName nvarchar(50),&#xD;&#xA;&#x9;@Zip int,&#xD;&#xA;&#x9;@Address nvarchar(50),&#xD;&#xA;&#x9;@City nvarchar(50),&#xD;&#xA;&#x9;@State nvarchar(2),&#xD;&#xA;&#x9;@IsAddressPrivate bit,&#xD;&#xA;&#x9;@EmailAddress nvarchar(255),&#xD;&#xA;&#x9;@ImageName nvarchar(255),&#xD;&#xA;&#x9;@ImageSize nvarchar(6),&#xD;&#xA;&#x9;@ImageContent varbinary(MAX),&#xD;&#xA;&#x9;@Response nvarchar(100) output&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblCity]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblCity].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="10" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblCity].[CityName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblGroup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="12" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[Name]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="100" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[GroupType]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[OwnerUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[OwnerGroupId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[GroupImgId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[CanPostDefault]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[CanInviteDefault]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroup].[CanDeleteDefault]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblGroupContact]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[OwnerUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[TargetUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[TargetGroupId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[IsGroupAdmin]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[CanPost]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[CanInvite]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[CanDelete]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupContact].[InviteStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblGroupType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupType].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblGroupType].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblInviteStatus]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblInviteStatus].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="11" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblInviteStatus].[Description]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblPost]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[OwnerUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[TargetGroupId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[ReplyPostId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[Title]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[Content]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[IsSticky]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[IsDeleted]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[TimeStamp]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblPost].[EventTimeStamp]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblState]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblState].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="8" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblState].[StateName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[Username]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[PasswordHash]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[binary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[PasswordSalt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[FirstName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[MiddleInitial]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[LastName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[Zip]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[Address]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[IsAddressPrivate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[bit]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[UserImgId]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUser].[EmailAddress]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="5" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblUserContact]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserContact].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="7" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserContact].[OwnerUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserContact].[TargetUserId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserContact].[InviteStatusId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblUserImg]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserImg].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Property Name="IdentitySeed" Value="0" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="6" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserImg].[ImageName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="255" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserImg].[ImageSize]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="6" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblUserImg].[ImageContent]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="IsMax" Value="True" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlTable" Name="[dbo].[tblZip]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblZip].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblZip].[CityId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[tblZip].[StateId]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
	</Model>
</DataSchemaModel>